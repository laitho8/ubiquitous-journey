(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6570:function(e,t,r){Promise.resolve().then(r.bind(r,7992))},7992:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Home}});var a,s,l=r(7437);(a=s||(s={})).Twitter="twitter",a.Github="github",a.Gitlab="gitlab";var i=r(2489),n=r.n(i),o=r(8328),c=r(6691),d=r.n(c),u=r(2265),m=r(2510);function Home(){let e=(0,u.useRef)(null),[t,r]=(0,u.useState)(),[a,i]=(0,u.useState)(!1),[c,h]=(0,u.useState)(!1),[p,g]=(0,u.useState)(),[x,f]=(0,u.useState)();(0,u.useEffect)(()=>{let e=/Instagram/i.test(navigator.userAgent),t=/FBAN|FBAV/i.test(navigator.userAgent);(e||t)&&i(!0)},[a]),(0,u.useEffect)(()=>{fetch("/api/gaza-status").then(e=>e.json()).then(e=>g(e.summary))},[p]);let handleRetrieveProfilePicture=async e=>{let t=prompt("Enter your ".concat(e," username:"));if(t){f(e);try{h(!0);let a=await fetch("/api/retrieve-profile-pic?username=".concat(t,"&platform=").concat(e)).then(e=>e.ok?e.json():null);if(h(!1),null===a){alert("Error fetching your profile picture. Please make sure that you entered a correct username.");return}r(a.profilePicUrl)}catch(e){console.error("Error fetching profile picture:",e)}}},generateImage=async()=>{try{return await (0,o.YM)(e.current)}catch(e){console.log("Error generating image",e)}},handleDownload=async()=>{await generateImage(),await generateImage(),await generateImage();let e=await generateImage();e&&n()(e,"profile-pic-".concat(x,".png"))},startOver=async()=>{r(void 0)};return(0,l.jsx)("main",{className:"text-center px-8 py-12 max-w-xl mx-auto flex justify-center align-center items-center min-h-screen",children:(0,l.jsxs)("div",{children:[a&&(0,l.jsxs)("div",{className:"border p-2 rounded-lg bg-yellow-200 my-2  text-sm mb-8",children:[(0,l.jsx)("p",{className:"font-semibold",children:"⚠️ Unsupported Browser Detected"}),(0,l.jsx)("p",{children:"Please open on regular browsers like Chrome or Safari."})]}),p&&(0,l.jsxs)("a",{className:"rounded-lg bg-gray-200 py-1.5 px-4 text-sm text-gray-800 cursor-pointer",target:"_blank",href:"https://data.techforpalestine.org/",children:["\uD83D\uDE25 ",p," →"]}),(0,l.jsx)("h1",{className:"font-semibold text-3xl mt-6",children:"Show Solidarity \uD83C\uDDF5\uD83C\uDDF8"}),(0,l.jsx)("p",{className:"text-lg py-2",children:"Let's unite in our profile pictures to spotlight the cause. ✊"}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Watch the"," ",(0,l.jsx)("a",{href:"https://www.instagram.com/p/C2B1DP0LqBl/",target:"_blank",className:"underline cursor-pointer hover:text-gray-900",children:"step-by-step guide"})," ","\uD83D\uDC40"]}),(0,l.jsx)("div",{className:"my-12",children:(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("div",{style:{width:"300px",height:"300px"},className:"relative",ref:e,children:[(0,l.jsx)(d(),{width:100,height:100,alt:"border",id:"borderImage",src:"/bg.webp",style:{position:"absolute",width:"100%",height:"100%"},className:"rounded-full",unoptimized:!0}),c?(0,l.jsx)(d(),{id:"spinner",alt:"spinner-animation",src:"/spinner.svg",width:100,height:100,style:{position:"absolute",width:"85%",height:"85%",left:"7.5%",top:"7.5%"},className:"object-cover rounded-full cursor-wait"}):(0,l.jsx)(d(),{id:"userImage",alt:"profile-image",src:null!=t?t:"/user.jpg",width:100,height:100,style:{position:"absolute",width:"85%",height:"85%",left:"7.5%",top:"7.5%"},className:"object-cover rounded-full cursor-pointer"})]})})}),(0,l.jsx)("div",{children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"p-2 my-6 text-sm border rounded-lg",children:"Download the image, then use it as your new profile picture."}),(0,l.jsxs)("button",{onClick:handleDownload,className:"rounded-full mb-2 py-3 px-2 w-full border border-gray-900 bg-gray-900 text-white text-xl",children:["Download Image"," ",(0,l.jsx)(m.aBF,{className:"inline mb-1 ml-2 text-md"})]}),(0,l.jsxs)("button",{onClick:startOver,className:"rounded-full my-2 py-3 px-2 w-full border border-gray-900 text-xl",children:["Start Over"," ",(0,l.jsx)(m.XmX,{className:"inline mb-1 ml-2 text-md"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0],s=new FileReader;a?(s.onload=async e=>{var t;f("user-upload"),r(null===(t=e.target)||void 0===t?void 0:t.result)},s.readAsDataURL(a)):console.error("No file selected.")},className:"hidden",id:"fileInput"}),(0,l.jsx)("button",{onClick:()=>{var e;null===(e=document.getElementById("fileInput"))||void 0===e||e.click()},className:"rounded-full my-2 py-3 px-2 w-full border border-gray-900 text-xl",children:"Upload Image"}),(0,l.jsxs)("button",{onClick:async()=>await handleRetrieveProfilePicture(s.Twitter),className:"rounded-full my-2 py-3 px-2 w-full border border-gray-900 text-xl",children:["Use ",(0,l.jsx)(m.LCd,{className:"inline mb-1"})," Profile Pic"]}),(0,l.jsxs)("button",{onClick:async()=>await handleRetrieveProfilePicture(s.Github),className:"rounded-full my-2 py-3 px-2 w-full border border-gray-900 text-xl",children:["Use ",(0,l.jsx)(m.hJX,{className:"inline mb-1"})," Profile Pic"]}),(0,l.jsxs)("button",{onClick:async()=>await handleRetrieveProfilePicture(s.Gitlab),className:"rounded-full my-2 py-3 px-2 w-full border border-gray-900 text-xl",children:["Use ",(0,l.jsx)(m.eH5,{className:"inline mb-1"})," Profile Pic"]})]})}),(0,l.jsxs)("div",{className:"pt-8",children:[(0,l.jsx)("p",{className:"p-2 my-6 text-sm border rounded-lg",children:"Note: This app runs purely on your browser end. No images nor data will be saved by the app."}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Have any feedback?"," ",(0,l.jsx)("a",{href:"https://www.x.com/sohafidz",target:"_blank",className:"underline cursor-pointer",children:"Let me know!"})]}),(0,l.jsxs)("p",{className:"text-gray-600",children:["For any bugs, please report them to our"," ",(0,l.jsxs)("a",{href:"https://github.com/TechForPalestine/palestine-pfp-maker/issues",target:"_blank",className:"underline cursor-pointer",children:[" ","GitHub repository."]})]})]})]})})}}},function(e){e.O(0,[306,530,971,472,744],function(){return e(e.s=6570)}),_N_E=e.O()}]);